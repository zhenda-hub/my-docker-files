# å®¶åº­ NAS è¿œç¨‹è®¿é—®æŒ‡å—

> æœ¬æ–‡ä¸º NAS çˆ±å¥½è€…æä¾›ä¸€ä¸ªå®‰å…¨ã€ç¨³å®šã€é«˜æ•ˆçš„å®¶åº­ NAS è¿œç¨‹è®¿é—®è§£å†³æ–¹æ¡ˆï¼Œå¸®åŠ©ä½ åœ¨å¤–ä¹Ÿèƒ½è½»æ¾è®¿é—®å®¶ä¸­ NAS ä¸Šçš„æ–‡ä»¶ã€ç…§ç‰‡ã€å¤šåª’ä½“ç­‰å†…å®¹ã€‚

---

## ğŸŒ ä»€ä¹ˆæ˜¯è¿œç¨‹è®¿é—® NASï¼Ÿ

è¿œç¨‹è®¿é—®æŒ‡çš„æ˜¯ï¼šåœ¨å¤–ç½‘ç¯å¢ƒï¼ˆå¦‚æ‰‹æœº 4Gã€å…¬ç”¨ WiFiã€å¼‚åœ°ç”µè„‘ï¼‰ä¸‹ï¼Œé€šè¿‡ç½‘ç»œè®¿é—®éƒ¨ç½²åœ¨å®¶ä¸­çš„ NAS è®¾å¤‡ï¼Œå®ç°ï¼š

* æ–‡ä»¶è®¿é—®ä¸ä¸Šä¼ 
* å¤šåª’ä½“æ’­æ”¾ï¼ˆç”µå½±ã€ç…§ç‰‡ã€éŸ³ä¹ï¼‰
* è¿œç¨‹ç®¡ç†ï¼ˆå¦‚ Docker å®¹å™¨ã€ç³»ç»Ÿåå°ï¼‰

> âš ï¸ è¿œç¨‹è®¿é—® â‰  æš´éœ² NAS åˆ°å…¬ç½‘ï¼Œè¯·ä¼˜å…ˆè€ƒè™‘ **å®‰å…¨é€šé“**

---

## âœ… å¸¸è§è¿œç¨‹è®¿é—®æ–¹å¼å¯¹æ¯”

| æ–¹å¼                           | æ˜¯å¦æ¨è  | ä¼˜ç‚¹        | é£é™©               |
| ---------------------------- | ----- | --------- | ---------------- |
| å…¬ç½‘ç«¯å£è½¬å‘ï¼ˆå¦‚å¼€æ”¾ 5000ï¼‰             | âŒ ä¸æ¨è | ç®€å•å¿«é€Ÿ      | é«˜æš´éœ²é£é™©ï¼Œå®¹æ˜“è¢«æ‰«ææ”»å‡»    |
| ZeroTier / Tailscale è™šæ‹Ÿå±€åŸŸç½‘   | âœ… æ¨è  | å®‰å…¨ã€æ˜“ç”¨ã€å…è´¹  | ä¾èµ–ç¬¬ä¸‰æ–¹æœåŠ¡          |
| VPNï¼ˆOpenVPN / WireGuardï¼‰     | âœ… æ¨è  | å¯æ§æ€§å¼ºã€å…¼å®¹æ€§å¥½ | éœ€é¢å¤–é…ç½®            |
| DDNS + åå‘ä»£ç†ï¼ˆNginx / Traefikï¼‰ | âš ï¸ ä¸­é˜¶ | çµæ´»ã€è‡ªå®šä¹‰åŸŸå  | éœ€ HTTPS é…ç½®ä¸é˜²ç«å¢™è§„åˆ™ |

---

## ğŸ§° æ–¹å¼ä¸€ï¼šä½¿ç”¨ Tailscale å¿«é€Ÿè®¿é—® NAS

### æ­¥éª¤

1. æ³¨å†Œ [Tailscale è´¦å·](https://tailscale.com)
2. åœ¨ NAS ä¸Šå®‰è£… Tailscaleï¼ˆæ”¯æŒç¾¤æ™– / Unraid / OMV / Linuxï¼‰
3. åœ¨æ‰‹æœºã€ç¬”è®°æœ¬ç­‰è®¾å¤‡ä¹Ÿå®‰è£… Tailscale å¹¶ç™»å½•åŒä¸€è´¦æˆ·
4. åœ¨å¤–ç½‘ç¯å¢ƒä¸‹ç›´æ¥è®¿é—® NAS å±€åŸŸç½‘ IPï¼ˆå¦‚ `192.168.1.100:8000`ï¼‰

### ä¼˜ç‚¹

* å®‰è£…ç®€å•ï¼Œå…ç«¯å£è½¬å‘
* è‡ªåŠ¨åŠ å¯†ï¼Œç‚¹å¯¹ç‚¹ä¼ è¾“
* å¯ä¸ ACL é…åˆåšè®¾å¤‡è®¿é—®é™åˆ¶

---

## ğŸ§© æ–¹å¼äºŒï¼šè‡ªå»º VPNï¼ˆå¦‚ WireGuardï¼‰

### æ­¥éª¤ç®€è¿°

1. åœ¨è·¯ç”±å™¨æˆ– NAS ä¸Šéƒ¨ç½² WireGuard æœåŠ¡ç«¯
2. é…ç½® NAT ç«¯å£è½¬å‘ï¼ˆé€šå¸¸ä¸º 51820ï¼‰
3. åœ¨å®¢æˆ·ç«¯è®¾å¤‡ä¸Šå¯¼å…¥é…ç½®æ–‡ä»¶è¿æ¥

### æ¨èå·¥å…·

* ç¾¤æ™–ç”¨æˆ·ï¼šå¯ç”¨å¥—ä»¶ä¸­å¿ƒä¸­çš„ VPN Server + WireGuard
* OpenWRT è·¯ç”±å™¨ç”¨æˆ·ï¼šå®‰è£… `luci-app-wireguard`
* Docker ç”¨æˆ·ï¼š`linuxserver/wireguard` é•œåƒ

---

## ğŸŒ æ–¹å¼ä¸‰ï¼šDDNS + HTTPS + åå‘ä»£ç†

é€‚ç”¨äºéœ€è¦ä½¿ç”¨åŸŸåè®¿é—® NAS æœåŠ¡ï¼ˆå¦‚ immich.jacknas.comï¼‰

### ç»„ä»¶

* DDNSï¼šå°†åŠ¨æ€ IP æ˜ å°„ä¸ºå›ºå®šåŸŸåï¼ˆCloudflare / é˜¿é‡Œäº‘ DDNSï¼‰
* åå‘ä»£ç†ï¼šé€šè¿‡ Nginx / Traefik è½¬å‘ä¸åŒç«¯å£åˆ°å­æœåŠ¡
* HTTPSï¼šä½¿ç”¨ Let's Encrypt è‡ªåŠ¨ç”³è¯·å…è´¹è¯ä¹¦

### ç¤ºä¾‹æœåŠ¡ç»„åˆ

| æœåŠ¡          | å­åŸŸå            | ç¤ºä¾‹                       |
| ----------- | -------------- | ------------------------ |
| FileBrowser | file.nas.com   | `https://file.nas.com`   |
| Immich      | photos.nas.com | `https://photos.nas.com` |
| Portainer   | docker.nas.com | `https://docker.nas.com` |

> âš ï¸ éœ€åšå¥½é˜²ç«å¢™æ§åˆ¶ä¸ Fail2Ban é™åˆ¶è®¿é—®

---

## ğŸ–¥ï¸ å¸¸è§è¿œç¨‹è®¿é—®åœºæ™¯

| ç›®æ ‡          | æ¨èæ–¹æ¡ˆ                             |
| ----------- | -------------------------------- |
| åœ¨å¤–è®¿é—®æ–‡ä»¶      | Tailscale / WebDAV + HTTPS       |
| ä¸Šä¼ ç…§ç‰‡        | Immich å®¢æˆ·ç«¯ï¼ˆé€šè¿‡ Tailscale æˆ– HTTPSï¼‰ |
| è¿œç¨‹ä¸‹è½½ä»»åŠ¡      | Aria2 + FileBrowserï¼Œé€šè¿‡åä»£æˆ– VPN    |
| è¿œç¨‹ç®¡ç† Docker | Tailscale + Portainer ç™»å½•         |
| å®¶äººè®¿é—®åª’ä½“åº“     | Jellyfin / Plex + HTTPS åŸŸåæ¥å…¥     |

---

## ğŸ” å®‰å…¨å»ºè®®

* ç¦ç”¨é»˜è®¤è´¦æˆ·ï¼Œå¼€å¯å¼ºå¯†ç å’Œ 2FA
* æ‰€æœ‰ Web æœåŠ¡ä½¿ç”¨ HTTPSï¼Œé¿å…æ˜æ–‡ç™»å½•æ³„éœ²å¯†ç 
* å®šæœŸæ›´æ–° NASã€Docker é•œåƒã€åä»£è¯ä¹¦
* é…ç½® Fail2Ban / CrowdSec é˜²æš´åŠ›ç ´è§£
* å»ºè®®ç»“åˆé˜²ç«å¢™ + GeoIP é™åˆ¶å›½å¤–æˆ–å¼‚å¸¸ IP è®¿é—®

---

## ğŸ“± ç§»åŠ¨ç«¯å·¥å…·æ¨è

| å·¥å…·                           | åŠŸèƒ½            |
| ---------------------------- | ------------- |
| **Tailscale App**            | è™šæ‹Ÿå†…ç½‘è®¿é—® NAS    |
| **DS File / FileBrowser**    | ç®¡ç†æ–‡ä»¶          |
| **Immich App**               | è‡ªåŠ¨ä¸Šä¼ æ‰‹æœºç…§ç‰‡åˆ° NAS |
| **Jellyfin / Infuse / Plex** | è¿œç¨‹è§‚çœ‹è§†é¢‘        |
| **Termius**                  | SSH ç™»å½•ç®¡ç†      |

---

## âœ… æ€»ç»“

* **æ¨èæ–¹å¼ï¼šTailscale + HTTPS æœåŠ¡åä»£**ï¼Œå…¼é¡¾æ˜“ç”¨ä¸å®‰å…¨
* **ä¸å»ºè®®ç›´æ¥æš´éœ²å…¬ç½‘ç«¯å£**ï¼Œå°¤å…¶æ˜¯ 22ã€5000ã€80ã€443 ç­‰é»˜è®¤ç«¯å£
* **ä¸ºä¸åŒæœåŠ¡åˆ†é…å­åŸŸåä¸å•ç‹¬ç«¯å£ï¼Œæé«˜å®‰å…¨éš”ç¦»æ€§**
* é…ç½®å¥½è¿œç¨‹è®¿é—®åï¼Œå»ºè®®ç”¨å¤‡ç”¨æ‰‹æœº/ç½‘ç»œæµ‹è¯•å¤–éƒ¨å¯ç”¨æ€§ä¸é€Ÿåº¦

> ä¸€ä¸ªå®‰å…¨çš„è¿œç¨‹è®¿é—®ç³»ç»Ÿï¼Œå°†æ˜¯ä½  NAS æœ€æœ‰ä»·å€¼çš„èƒ½åŠ›ä¹‹ä¸€ã€‚

---

## ğŸ“š å»¶ä¼¸é˜…è¯»

* Tailscale å®˜æ–¹æ–‡æ¡£: [https://tailscale.com/kb/](https://tailscale.com/kb/)
* WireGuard å®˜ç½‘:     [https://www.wireguard.com/](https://www.wireguard.com/)
* openvpnæ–‡æ¡£:        [https://openvpn.net/community-docs/index.html?lang=en/](https://openvpn.net/community-docs/index.html?lang=en/)
* Cloudflare DDNS æ•™ç¨‹: [https://developers.cloudflare.com](https://developers.cloudflare.com)
* Nginx Proxy Manager: [https://nginxproxymanager.com/](https://nginxproxymanager.com/)
* [å®¶åº­ NAS å®‰å…¨æŒ‡å—](./security.md)
