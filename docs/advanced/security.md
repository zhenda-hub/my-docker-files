# å®¶åº­ NAS å®‰å…¨æŒ‡å—

> æœ¬æŒ‡å—ä¸“ä¸º NAS çˆ±å¥½è€…è®¾è®¡ï¼Œå¸®åŠ©ä½ åœ¨å®¶åº­ç¯å¢ƒä¸­æœ€å¤§é™åº¦ä¿éšœæ•°æ®ä¸æœåŠ¡çš„å®‰å…¨ï¼Œé˜²èŒƒç½‘ç»œå…¥ä¾µã€æ¶æ„è½¯ä»¶ã€ç¡¬ä»¶æŸåã€è´¦å·æ³„éœ²ç­‰å¤šç§é£é™©ã€‚

---

## ğŸ§± 1. å®‰å…¨ç­–ç•¥æ€»è§ˆ

| é¢†åŸŸ   | å»ºè®®               | é£é™©é˜²èŒƒ          |
| ---- | ---------------- | ------------- |
| ç½‘ç»œå®‰å…¨ | ç¦ç”¨ä¸å¿…è¦çš„å¤–ç½‘è®¿é—®ã€å¼€å¯é˜²ç«å¢™ | é˜²æ­¢é»‘å®¢æ‰«æä¸çˆ†ç ´     |
| è´¦æˆ·å®‰å…¨ | å¼ºå¯†ç ã€é™åˆ¶ç™»å½•ã€å¼€å¯ 2FA  | é˜²æ­¢å¯†ç æ³„éœ²ä¸è´¦å·ç›—ç”¨   |
| æ•°æ®å®‰å…¨ | åŠ å¯†ã€ç‰ˆæœ¬æ§åˆ¶ã€å¼‚åœ°å¤‡ä»½     | é˜²æ­¢æ•°æ®ä¸¢å¤±æˆ–å‹’ç´¢ç—…æ¯’æ”»å‡» |
| ç³»ç»Ÿå®‰å…¨ | å®šæœŸæ›´æ–°ã€åªç”¨å¯ä¿¡æº       | é˜²æ­¢æ¼æ´ä¸ç³»ç»Ÿå…¥ä¾µ     |
| åº”ç”¨å®‰å…¨ | é™åˆ¶å®¹å™¨æƒé™ã€ä½¿ç”¨åªè¯»å·     | é˜²æ­¢åº”ç”¨å±‚æ¶æ„æ“ä½œ     |

---

## ğŸ” 2. ç½‘ç»œå®‰å…¨è®¾ç½®

* ğŸš« **å…³é—­ä¸å¿…è¦çš„å¤–ç½‘è®¿é—®**ï¼šNAS é»˜è®¤å¼€æ”¾å¤šä¸ªç«¯å£ï¼Œåº”ç¦ç”¨å…¬ç½‘è®¿é—®ï¼Œæˆ–ä½¿ç”¨ VPN éš§é“è®¿é—®
* ğŸ” **é…ç½®é˜²ç«å¢™**ï¼šé™åˆ¶ç«¯å£è®¿é—®ï¼ˆå¦‚åªå¼€æ”¾ 22, 443ï¼‰ï¼Œä½¿ç”¨ GeoIP é™åˆ¶è®¿é—®åŒºåŸŸ
* ğŸ›¡ï¸ **å¯ç”¨å†…ç½‘éš”ç¦»**ï¼šå°† NAS æ”¾åœ¨ VLAN æˆ–ä¸“ç”¨å­ç½‘ä¸­ï¼Œé¿å…ä¸ä¸»è®¾å¤‡å…±äº«ç½‘ç»œå¹¿æ’­
* ğŸŒ **å¯ç”¨ HTTPS / è‡ªç­¾è¯ä¹¦**ï¼šé¿å…æ˜æ–‡ä¼ è¾“ï¼ˆå¦‚ä½¿ç”¨ Letâ€™s Encrypt + Nginx Proxyï¼‰

---

## ğŸ‘¤ 3. ç”¨æˆ·ä¸è®¿é—®æ§åˆ¶

* âœ… **åˆ›å»ºæœ€å°æƒé™è´¦æˆ·**ï¼šä¸ä½¿ç”¨ admin/root æ‰§è¡Œæ—¥å¸¸æ“ä½œ
* ğŸ”’ **å¼ºå¯†ç  + 2FAï¼ˆåŒå› å­éªŒè¯ï¼‰**ï¼šé€‚ç”¨äº NAS åå°ã€SSHã€Docker ç®¡ç†å¹³å°ç­‰
* â±ï¸ **è‡ªåŠ¨é”å®š/é™åˆ¶ç™»å½•å°è¯•**ï¼šå¼€å¯â€œç™»å½•å¤±è´¥é”å®šâ€ï¼Œé˜²æ­¢æš´åŠ›ç ´è§£
* ğŸ“‹ **å®šæœŸå®¡è®¡ç”¨æˆ·æƒé™ä¸ç™»å½•è®°å½•**ï¼šæ¸…ç†ä¸æ´»è·ƒç”¨æˆ·ã€æ’æŸ¥å¼‚å¸¸ IP ç™»å½•

---

## ğŸ§Š 4. æ•°æ®å®‰å…¨ä¸å¤‡ä»½

* ğŸ—‚ï¸ **é‡è¦æ•°æ®åˆ†åŒºéš”ç¦»**ï¼šå·¥ä½œæ–‡ä»¶ä¸åª’ä½“å†…å®¹åˆ†å¼€å­˜å‚¨
* ğŸ” **å¼€å¯å¿«ç…§/ç‰ˆæœ¬æ§åˆ¶**ï¼šé˜²æ­¢æ–‡ä»¶è¢«è¯¯åˆ æˆ–åŠ å¯†ï¼ˆå¦‚ä½¿ç”¨ Btrfs/ZFS å¿«ç…§ï¼‰
* ğŸ” **åŠ å¯†é‡è¦ç›®å½•**ï¼šé€šè¿‡ EncFS / VeraCrypt / native åŠ å¯†æœºåˆ¶ä¿æŠ¤æ ¸å¿ƒæ•°æ®
* ğŸŒ©ï¸ **å®æ–½ 3-2-1 å¤‡ä»½ç­–ç•¥**ï¼šå‚è€ƒ [å¤‡ä»½æŒ‡å—](./nas_backup_guide.md)

---

## ğŸ› ï¸ 5. ç³»ç»Ÿä¸æœåŠ¡å®‰å…¨

* ğŸ“¦ **ç³»ç»Ÿå›ºä»¶ä¸è½¯ä»¶ä¿æŒæ›´æ–°**ï¼šåŠæ—¶ä¿®å¤å·²çŸ¥å®‰å…¨æ¼æ´ï¼ˆç¾¤æ™–/Unraid/OMVï¼‰
* âœ… **åªä»å®˜æ–¹/å¯ä¿¡æºå®‰è£…è½¯ä»¶åŒ…**ï¼šé¿å…æ¶æ„ç¬¬ä¸‰æ–¹è„šæœ¬
* ğŸš¨ **å¯ç”¨ç³»ç»Ÿé€šçŸ¥ä¸å¼‚å¸¸è­¦æŠ¥**ï¼šå¦‚å­˜å‚¨ç©ºé—´ä¸è¶³ã€ç³»ç»Ÿè´Ÿè½½å¼‚å¸¸ã€ç™»å½•å¤±è´¥ç­‰
* ğŸ§© **Docker å®‰å…¨å»ºè®®**ï¼š

  * ä½¿ç”¨ `read-only` å·æŒ‚è½½é…ç½®æ–‡ä»¶
  * ç¦æ­¢å®¹å™¨å†…ä½¿ç”¨ `--privileged`
  * ä½¿ç”¨ `rootless` Docker è¿è¡Œå®¹å™¨

---

## ğŸ§¬ 6. åº”ç”¨å±‚ä¿æŠ¤ï¼ˆä¾‹å¦‚ immichã€filebrowser ç­‰ï¼‰

* æ›´æ”¹é»˜è®¤ç«¯å£ï¼Œé¿å…ç«¯å£æ‰«æï¼ˆå¦‚å°† 3000 æ”¹ä¸º 33889ï¼‰
* ä½¿ç”¨åå‘ä»£ç†ï¼ˆNginxã€Traefikï¼‰ç»Ÿä¸€èº«ä»½éªŒè¯
* å¯ç”¨è®¿é—®æ—¥å¿—ä¸å®¡è®¡ï¼ˆå¦‚ FileBrowser æ—¥å¿—ï¼‰
* ç»‘å®šç‰¹å®šå†…ç½‘åœ°å€è¿è¡ŒæœåŠ¡ï¼Œé¿å…æš´éœ²åœ¨å…¬ç½‘

---

## ğŸ” 7. å¸¸ç”¨å®‰å…¨å·¥å…·æ¨è

| å·¥å…·                 | ç”¨é€”                   |
| ------------------ | -------------------- |
| **Fail2Ban**       | è‡ªåŠ¨å°é”å¼‚å¸¸ SSH ç™»å½• IP     |
| **CrowdSec**       | è¡Œä¸ºæ„ŸçŸ¥å‹é˜²å¾¡ç³»ç»Ÿï¼Œå¢å¼ºé˜²æš´åŠ›ç ´è§£èƒ½åŠ›  |
| **ClamAV**         | å¼€æºæ€æ¯’è½¯ä»¶ï¼Œç”¨äºæ‰«æä¸Šä¼ æ–‡ä»¶å’Œå¤‡ä»½æ•°æ® |
| **Rclone åŠ å¯†è¿œç¨‹æŒ‚è½½**  | å¯¹åŒæ­¥åˆ°äº‘ç«¯çš„æ•°æ®è¿›è¡Œé€æ˜åŠ å¯†      |
| **Portainer** | ä¸º Docker ç®¡ç†æä¾›è§’è‰²æƒé™æ§åˆ¶  |

---

## ğŸ§  8. æ—¥å¸¸å®‰å…¨ç»´æŠ¤å»ºè®®

* æ¯æœˆæ‰‹åŠ¨æ£€æŸ¥ä¸€æ¬¡å¤–ç½‘å¼€æ”¾ç«¯å£
* æ¯å­£åº¦æ›´æ–°æ‰€æœ‰ Docker é•œåƒå¹¶é‡å»ºå®¹å™¨
* å®šæœŸæ‰‹åŠ¨æµ‹è¯•å¤‡ä»½æ¢å¤æµç¨‹
* å¤‡ä»½è´¦å·å¯†é’¥/2FA æ¢å¤ç ï¼Œå¹¶ç¦»çº¿ä¿å­˜
* ç»™é‡è¦æœåŠ¡å¯ç”¨ç™»å½•é€šçŸ¥ï¼ˆå¦‚é‚®ä»¶/Telegram Bot æ¨é€ï¼‰

---

## âœ… æ€»ç»“

* å®‰å…¨æ˜¯ä¸€é¡¹ç³»ç»Ÿå·¥ç¨‹ï¼Œå¿…é¡»â€œæœ€å°æƒé™ + åˆ†å±‚é˜²å¾¡ + è‡ªåŠ¨ç›‘æ§â€ä¸‰ä½ä¸€ä½“
* åªè¦ NAS è¿ä¸Šäº†ç½‘ç»œï¼Œå°±ä¸æ˜¯â€œçº¯æœ¬åœ°â€â€”â€”éœ€è§†ä¸ºå…¬å¼€èµ„æºç®¡ç†
* è‡ªåŠ¨åŒ– â‰  å®‰å…¨ï¼Œä»éœ€äººå·¥å®¡æ ¸ã€å®šæœŸç»´æŠ¤

> æ•°æ®å¯ä»¥ä¸¢ï¼Œé’±å¯ä»¥æ²¡ï¼Œå”¯ç‹¬ä½ çš„å®¶åº­è®°å¿†ã€ç…§ç‰‡å’Œéšç§ä¸èƒ½ä¸¢ã€‚

---

## ğŸ“š å»¶ä¼¸é˜…è¯»

* [ç¾¤æ™–å®˜æ–¹å®‰å…¨å»ºè®®](https://kb.synology.cn/zh-cn/DSM/tutorial/How_to_secure_Synology_NAS)
* [Docker å®˜æ–¹å®‰å…¨æŒ‡å—](https://docs.docker.com/engine/security/)
* [Unraid å®‰å…¨æœ€ä½³å®è·µ](https://wiki.unraid.net/Security)
* [OpenMediaVault å®‰å…¨é…ç½®](https://wiki.omv-extras.org/)
* [Rclone åŠ å¯†æ•™ç¨‹](https://rclone.org/crypt/)

